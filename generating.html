<html>
    <head>
        <title>OTRon key generation</title>
        <script src="lib/jquery.min.js"></script>
        <script src="lib/identicon.js"></script>
        <script src="js/generating.js"></script>

        <link rel="stylesheet" type="text/css" href="css/popup.css"></link>
        <style>
            .fingerprint, #token canvas {
                text-align: center;
            }

            .genBoth, .genKey, .genToken {
                display: none;
            }
        </style>
    </head>
    <body>
        <div style="display: none" id="generating">
            <div class="genBoth">
                <p>Generating DSA encryption key pair and security token.</p>
                <p>This will only happen once.</p>
                <p>Please wait a few seconds...</p>
            </div>
            <div class="genKey">
                <p>Generating DSA encryption key pair.</p>
                <p>Please wait a few seconds...</p>
            </div>
            <div class="genToken">
                <p>Generating security token.</p>
                <p>Please wait...</p>
            </div>
        </div>
        <div style="display: none" id="done">
            <div class="genKey genBoth">
                <p>You're ready to chat.</p>
                <p>OTRon has generated a public and private key for you.</p>
                <p><a href="options.html#keys" class="learn-more" target="_blank">(Learn more about your public and private key pair.)</a></p>
                <p>Share this public key fingerprint with your friends in person, so they know they're chatting with the real you:</p>
                <p class="fingerprint"></p>
            </div>
            <hr class="genBoth"></hr>
            <div class="genToken genBoth">
                <p>For additional security, remember this icon.</p>
                <img id="token-image" width="128" height="128"></img>
                <p>This is your personal <em>security token</em>. It will appear in the background of any authentic encrypted Facebook chat.</p>
                <p>You should also remember this color: <span id="token-color">security color</span>. A different icon with this color will appear on the side as you type in an encrypted message.</p>
                <p><a href="options.html#security" class="learn-more" target="_blank">(Learn more about this security token.)</a></p>
            </div>
        </div>
    </body>
</html>
